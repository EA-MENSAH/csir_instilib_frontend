
<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head><script src="/docs/5.3/assets/js/color-modes.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.115.4">
    <title>Signin</title>


    


	<!-- Bootstrap -->
	<link rel="stylesheet" href="../plugins/bootstrap/bootstrap.min.css">
	<!-- themefy-icon -->
	<link rel="stylesheet" href="../plugins/themify-icons/themify-icons.css">
	<!--Favicon-->
	<link rel="icon" href="images/favicon.png" type="image/x-icon">
	<!-- fonts -->
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
	<!-- Main Stylesheet -->
	<!-- <link href="assets/style.css" rel="stylesheet" media="screen" /> -->

    
    <!-- Custom styles for this template -->
    <link href="sign-in.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body class="d-flex align-items-center py-4 bg-body-tertiary ">

    
    <main class="form-signin card w-50 P-3 shadow m-auto">
    <form class="m-3" >
        <h1 class="h3 mb-3 fw-normal text-center">Sign In</h1>

        <div class="form-floating">
        <input type="text" class="form-control form-control-sm" id="username" placeholder="JohnDoe">
        <label for="floatingInput">Username</label>
        </div>
        <div class="form-floating">
        <input type="password" class="form-control form-control-sm" id="password" placeholder="Password">
        <label for="floatingPassword">Password</label>
        </div>

    <div class="w-100 d-flex justify-content-center">
        <button class="btn  btn-sm btn-primary w-50 mx-auto py-2" onclick="login()" type="submit">Sign in</button>
    </div>
        <p class="mt-5 mb-3 text-body-secondary">&copy; 2023</p>
    </form>
    </main>
	<!-- jquiry -->
	<script src="../plugins/jquery/jquery-1.12.4.js"></script>
	<!-- Bootstrap JS -->
	<script src="../plugins/bootstrap/bootstrap.min.js"></script>
	<!-- match-height JS -->
	<script src="../plugins/match-height/jquery.matchHeight-min.js"></script>
	<!-- Main Script -->
	<!-- <script src="assets/script.js"></script> -->

    <script> 
    function login(){
        event.preventDefault()

        var username = document.getElementById("username").value
        var password = document.getElementById("password").value
        
        axios.post('http://127.0.0.1:8000/api/user/login',
        {
          "password": password,
          "username": username
        })
        .then(response => {
            setCookie("token", response.data);
            console.log(response.data)
            window.location.href = 'index.html';
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
    }

    function setCookie(cname,cvalue,exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    </script>
    </body>
</html>


